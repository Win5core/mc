"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[9933],{8995:function(e,r,t){t(72791);var n=t(76308),s=t(31363),o=t(11632),a=t(66360),i=t(19930),l=t(39230),c=t(80184),d=function(e){var r=e.color,t=e.setColor,n=e.disabled;return(0,c.jsx)("button",{className:"btn color-chooser "+(0,a.pL)(r)+(n?" disabled":""),id:"choose-"+r,disabled:n,onClick:function(){return t(r)},children:(0,c.jsx)(s.G,{icon:o.q2v})})};r.Z=function(){var e=(0,l.$G)().t,r=(0,n.Fg)();return(0,c.jsxs)(i.Z,{id:"colorChooserModal","aria-labelledby":"colorChooserModalLabel",show:r.colorChooserOpen,onHide:r.toggleColorChooser,children:[(0,c.jsxs)(i.Z.Header,{className:"bg-white",children:[(0,c.jsxs)(i.Z.Title,{id:"colorChooserModalLabel",children:[(0,c.jsx)(s.G,{icon:o.q2v})," ",e("html.label.themeSelect")]}),(0,c.jsx)("button",{"aria-label":"Close",className:"btn-close",onClick:r.toggleColorChooser})]}),(0,c.jsx)(i.Z.Body,{style:{padding:"0.5rem 0 0.5rem 0.5rem"},children:r.themeColors.map((function(e){return(0,c.jsx)(d,{color:e.name,setColor:r.setColor,disabled:r.nightModeEnabled},e.name)}))}),(0,c.jsxs)(i.Z.Footer,{children:[(0,c.jsxs)("button",{className:"btn",id:"night-mode-toggle",type:"button",onClick:r.toggleNightMode,children:[(0,c.jsx)(s.G,{icon:o.sdz})," ",e("html.button.nightMode")]}),(0,c.jsx)("button",{className:"btn bg-theme",type:"button",onClick:r.toggleColorChooser,children:"OK"})]})]})}},98863:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var n=t(74165),s=t(15861),o=t(29439),a=t(72791),i=t(63002),l=t(2677),c=t(89743),d=t(28282),u=t(30018),h=t(11087),m=t(57689),x=t(39230),g=t(31363),f=t(11632),b=t(76308),p=t(8995),j=t(61636),v=t(93490),Z=t(19930),N=t(16850),C=t(80184),w=function(e){var r=e.show,t=e.toggle,n=e.registerCode,s=(0,x.$G)().t,o=(0,v.A)().mainCommand;return(0,C.jsxs)(Z.Z,{id:"finalizeModal","aria-labelledby":"finalizeModalLable",show:r,onHide:t,children:[(0,C.jsxs)(Z.Z.Header,{className:"bg-white",children:[(0,C.jsxs)(Z.Z.Title,{id:"finalizeModalLabel",children:[(0,C.jsx)(g.G,{icon:N.ww7})," ",s("html.register.completion")]}),(0,C.jsx)("button",{"aria-label":"Close",className:"btn-close",onClick:t})]}),(0,C.jsxs)(Z.Z.Body,{className:"bg-white",children:[(0,C.jsxs)("p",{children:[s("html.register.completion1")," ",s("html.register.completion2")]}),(0,C.jsx)("p",{children:s("html.register.completion3")}),(0,C.jsx)("p",{children:(0,C.jsxs)("code",{children:["/",o," register --code ",n]})}),(0,C.jsx)("p",{children:s("html.register.completion4")}),(0,C.jsx)("p",{children:(0,C.jsxs)("code",{children:[o," register superuser --code ",n]})})]})]})},y=t(72165),k=function(){return(0,C.jsx)(l.Z,{md:12,className:"mt-5 text-center",children:(0,C.jsx)("img",{alt:"logo",className:"w-15",src:i})})},L=function(e){var r=e.children;return(0,C.jsx)(c.Z,{className:"justify-content-center container-fluid",children:(0,C.jsx)(l.Z,{xl:6,lg:7,md:9,children:(0,C.jsx)(d.Z,{className:"o-hidden border-0 shadow-lg my-5",children:(0,C.jsx)(d.Z.Body,{className:"p-0",children:(0,C.jsx)(c.Z,{children:(0,C.jsx)(l.Z,{lg:12,children:(0,C.jsx)("div",{className:"p-5",children:r})})})})})})})},G=function(e){var r=e.register,t=(0,x.$G)().t,n=(0,v.A)().registrationDisabled,s=(0,a.useState)(""),i=(0,o.Z)(s,2),l=i[0],c=i[1],d=(0,a.useState)(""),u=(0,o.Z)(d,2),h=u[0],m=u[1],g=(0,a.useCallback)((function(e){e.preventDefault(),r(l,h).then((function(){return m("")}))}),[l,h,m,r]);return n?(0,C.jsx)("p",{children:t("html.register.disabled")}):(0,C.jsxs)("form",{className:"user",children:[(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("input",{autoComplete:"username",className:"form-control form-control-user",id:"inputUser",placeholder:t("html.login.username"),type:"text",value:l,onChange:function(e){return c(e.target.value)}}),(0,C.jsx)("div",{className:"form-text",children:t("html.register.usernameTip")})]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("input",{autoComplete:"current-password",className:"form-control form-control-user",id:"inputPassword",placeholder:t("html.login.password"),type:"password",value:h,onChange:function(e){return m(e.target.value)}}),(0,C.jsx)("div",{className:"form-text",children:t("html.register.passwordTip")})]}),(0,C.jsx)("button",{className:"btn bg-theme btn-user w-100",id:"register-button",onClick:g,children:t("html.register.register")})]})},P=function(){var e=(0,x.$G)().t,r=(0,b.Fg)().toggleColorChooser;return(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("button",{className:"btn col-theme",onClick:r,title:e("html.label.themeSelect"),children:(0,C.jsx)(g.G,{icon:f.q2v})})})},S=function(){var e=(0,x.$G)().t;return(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)(h.rU,{to:"/login",className:"col-theme small",children:e("html.register.login")})})},F=function(){var e=(0,x.$G)().t,r=(0,m.s0)(),t=(0,j.a)(),i=t.authLoaded,l=t.authRequired,c=t.loggedIn,d=(0,a.useState)(!1),h=(0,o.Z)(d,2),g=h[0],f=h[1],b=(0,a.useState)(void 0),v=(0,o.Z)(b,2),Z=v[0],N=v[1],F=(0,a.useState)(""),M=(0,o.Z)(F,2),A=M[0],H=M[1],D=(0,a.useCallback)((function(){return f(!g)}),[f,g]);(0,a.useEffect)((function(){return document.body.classList.add("bg-theme","plan-bg-gradient"),function(){document.body.classList.remove("bg-theme","plan-bg-gradient")}}),[]);var E=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(s){var o,a,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=3;break}return f(!1),t.abrupt("return",H("Register code was not received."));case 3:return g||f(!0),t.next=6,(0,y.IG)(s);case 6:o=t.sent,a=o.data,(i=o.error)?H(e("html.register.error.checkFailed")+i):null!==a&&void 0!==a&&a.success?r("/login?registerSuccess=true"):setTimeout((function(){E(s)}),5e3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var r=(0,s.Z)((0,n.Z)().mark((function r(t,s){var o,a,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&!(t.length<1)){r.next=2;break}return r.abrupt("return",H(e("html.register.error.noUsername")));case 2:if(!(t.length>50)){r.next=4;break}return r.abrupt("return",H(e("html.register.error.usernameLength")+t.length));case 4:if(s&&!(s.length<1)){r.next=6;break}return r.abrupt("return",H(e("html.register.error.noPassword")));case 6:return r.next=8,(0,y.pi)(t,s);case 8:o=r.sent,a=o.data,(i=o.error)?H(e("html.register.error.failed")+(null!==i&&void 0!==i&&i.data.error?i.data.error:i.message)):null!==a&&void 0!==a&&a.code?(N(a.code),f(!0),setTimeout((function(){E(a.code)}),1e4)):H(e("html.register.error.failed")+a?a.error:e("generic.noData"));case 12:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return i?(l&&!c||r("../"),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("style",{children:"#wrapper{background-image:none;}"}),(0,C.jsxs)("main",{className:"container",children:[(0,C.jsx)(k,{}),(0,C.jsxs)(L,{children:[(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)("h1",{className:"h4 text-gray-900 mb-4",children:e("html.register.createNewUser")})}),A&&(0,C.jsx)(u.Z,{className:"alert-danger",children:A}),(0,C.jsx)(G,{register:T}),(0,C.jsx)("hr",{className:"col-secondary"}),(0,C.jsx)(S,{}),(0,C.jsx)(P,{})]})]}),(0,C.jsxs)("aside",{children:[(0,C.jsx)(p.Z,{}),(0,C.jsx)(w,{show:g,toggle:D,registerCode:Z})]})]})):(0,C.jsx)(C.Fragment,{})}},71306:function(e,r,t){t.d(r,{PB:function(){return s}});var n="data-rr-ui-";function s(e){return"".concat(n).concat(e)}},58865:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(72791),s=t(97357),o=(0,n.createContext)(s.Z?window:void 0);o.Provider;function a(){return(0,n.useContext)(o)}},53189:function(e,r,t){function n(e,r){return e.contains?e.contains(r):e.compareDocumentPosition?e===r||!!(16&e.compareDocumentPosition(r)):void 0}t.d(r,{Z:function(){return n}})},13808:function(e,r,t){t.d(r,{Z:function(){return s}});var n=Function.prototype.bind.call(Function.prototype.call,[].slice);function s(e,r){return n(e.querySelectorAll(r))}},30018:function(e,r,t){t.d(r,{Z:function(){return y}});var n=t(1413),s=t(45987),o=t(81694),a=t.n(o),i=t(72791),l=t(80239),c=t(39007),d=t(10162),u=t(27472),h=t(80184),m=["className","bsPrefix","as"],x=(0,u.Z)("h4");x.displayName="DivStyledAsH4";var g=i.forwardRef((function(e,r){var t=e.className,o=e.bsPrefix,i=e.as,l=void 0===i?x:i,c=(0,s.Z)(e,m);return o=(0,d.vE)(o,"alert-heading"),(0,h.jsx)(l,(0,n.Z)({ref:r,className:a()(t,o)},c))}));g.displayName="AlertHeading";var f=g,b=t(16445),p=["className","bsPrefix","as"],j=i.forwardRef((function(e,r){var t=e.className,o=e.bsPrefix,i=e.as,l=void 0===i?b.Z:i,c=(0,s.Z)(e,p);return o=(0,d.vE)(o,"alert-link"),(0,h.jsx)(l,(0,n.Z)({ref:r,className:a()(t,o)},c))}));j.displayName="AlertLink";var v=j,Z=t(72709),N=t(80473),C=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],w=i.forwardRef((function(e,r){var t=(0,l.Ch)(e,{show:"onClose"}),o=t.bsPrefix,i=t.show,u=void 0===i||i,m=t.closeLabel,x=void 0===m?"Close alert":m,g=t.closeVariant,f=t.className,b=t.children,p=t.variant,j=void 0===p?"primary":p,v=t.onClose,w=t.dismissible,y=t.transition,k=void 0===y?Z.Z:y,L=(0,s.Z)(t,C),G=(0,d.vE)(o,"alert"),P=(0,c.Z)((function(e){v&&v(!1,e)})),S=!0===k?Z.Z:k,F=(0,h.jsxs)("div",(0,n.Z)((0,n.Z)({role:"alert"},S?void 0:L),{},{ref:r,className:a()(f,G,j&&"".concat(G,"-").concat(j),w&&"".concat(G,"-dismissible")),children:[w&&(0,h.jsx)(N.Z,{onClick:P,"aria-label":x,variant:g}),b]}));return S?(0,h.jsx)(S,(0,n.Z)((0,n.Z)({unmountOnExit:!0},L),{},{ref:void 0,in:u,children:F})):u?F:null}));w.displayName="Alert";var y=Object.assign(w,{Link:v,Heading:f})},63002:function(e,r,t){e.exports=t.p+"static/media/Flaticon_circle.e63ea1703d6c18f0c82f.png"}}]);
//# sourceMappingURL=9933.cf959f6f.chunk.js.map
