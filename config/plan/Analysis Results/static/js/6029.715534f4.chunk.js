"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[6029],{16261:function(e,t,a){var r=a(31363),l=(a(72791),a(39207)),s=a(39230),i=a(80184);t.Z=function(e){var t=e.icon,a=e.color,n=e.name,o=e.value,c=e.valueLabel,d=e.bold,p=e.boldTitle,h=e.title,u=e.trend,m=(0,s.$G)().t;if(void 0===o&&void 0===c)return(0,i.jsx)(i.Fragment,{});var f="string"===typeof o&&(o.startsWith("html")||o.startsWith("plugin")||o.startsWith("generic"))?m(o):o,g=d?(0,i.jsx)("b",{children:f}):f,y=function(e,t){return"string"===typeof t?" (".concat(e(t),")"):null!==t&&void 0!==t&&t.props?t:""}(m,c),x=null!==a&&void 0!==a&&a.startsWith("col-")?a:"col-"+a;return(0,i.jsxs)("p",{title:h||n+": "+f,children:[t&&(0,i.jsx)(r.G,{icon:t,className:x})," ",p?(0,i.jsx)("b",{children:n}):n,void 0!==o?(0,i.jsxs)(l.Z,{children:[g," ",y,u]}):""]})}},60578:function(e,t,a){var r=a(39230),l=a(28282),s=a(31363),i=(a(72791),a(16850)),n=a(80184);t.Z=function(e){var t=e.id,a=e.children,o=(0,r.$G)().t;return(0,n.jsxs)(l.Z,{id:t,children:[(0,n.jsx)(l.Z.Header,{children:(0,n.jsxs)("h6",{className:"col-black",children:[(0,n.jsx)(s.G,{icon:i.uli,className:"col-red"})," ",o("html.label.insights30days")]})}),(0,n.jsx)(l.Z.Body,{children:a})]})}},39207:function(e,t,a){a(72791);var r=a(80184);t.Z=function(e){var t=e.children;return(0,r.jsx)("span",{className:"float-end",children:t})}},26029:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var r=a(72791),l=a(51425),s=a(2677),i=a(57689),n=a(99220),o=a(38646),c=a(29439),d=a(28782),p=a(39230),h=a(28282),u=a(79840),m=a(11632),f=a(27949),g=a(98442),y=a(67179),x=a.n(y),b=a(41900),v=a.n(b),j=a(76308),O=a(66360),M=a(75193),S=a.n(M),A=a(93490),D=a(80184),k=[{labels:{formatter:function(){return this.value+" P"}},softMin:0,softMax:2},{opposite:!0,labels:{formatter:function(){return this.value+" TPS"}},softMin:0,softMax:20},{opposite:!0,labels:{formatter:function(){return this.value+"%"}},softMin:0,softMax:100},{labels:{formatter:function(){return this.value+" MB"}},softMin:0},{opposite:!0,labels:{formatter:function(){return this.value+" E"}},softMin:0,softMax:2},{labels:{formatter:function(){return this.value+" C"}},softMin:0}],E=function(e){var t=e.id,a=e.data,l=e.dataSeries,s=e.pluginHistorySeries,i=(0,p.$G)().t,n=(0,j.Fg)(),o=n.graphTheming,c=n.nightModeEnabled,d=(0,A.A)().timeZoneOffsetMinutes,h=(0,r.useCallback)((function(){var e,a=document.getElementById(t),r=null===a||void 0===a?void 0:a.getAttribute("data-highcharts-chart"),l=void 0!==r?x().charts[r]:void 0;if(null!==l&&void 0!==l&&null!==(e=l.yAxis)&&void 0!==e&&e.length){var s=window.innerWidth;l.yAxis[0].update({labels:{enabled:s>=900}}),l.yAxis[1].update({labels:{enabled:s>=900}}),l.yAxis[2].update({labels:{enabled:s>=1e3}}),l.yAxis[3].update({labels:{enabled:s>=1e3}}),l.yAxis[4].update({labels:{enabled:s>=1400}}),l.yAxis[5].update({labels:{enabled:s>=1400}})}}),[t]);return(0,r.useEffect)((function(){return window.addEventListener("resize",h),function(){window.removeEventListener("resize",h)}}),[h]),(0,r.useEffect)((function(){var e={tps:[{value:a.zones.tpsThresholdMed,color:c?(0,O.Xf)(a.colors.low):a.colors.low},{value:a.zones.tpsThresholdHigh,color:c?(0,O.Xf)(a.colors.med):a.colors.med},{value:30,color:c?(0,O.Xf)(a.colors.high):a.colors.high}]},r="spline",n={playersOnline:{name:i("html.label.playersOnline"),type:"areaspline",tooltip:g.Md.zeroDecimals,data:l.playersOnline,color:a.colors.playersOnline,yAxis:0},tps:{name:i("html.label.tps"),type:r,color:c?(0,O.Xf)(a.colors.high):a.colors.high,zones:e.tps,tooltip:g.Md.twoDecimals,data:l.tps,yAxis:1},cpu:{name:i("html.label.cpu"),type:r,tooltip:g.Md.twoDecimals,data:l.cpu,color:c?(0,O.Xf)(a.colors.cpu):a.colors.cpu,yAxis:2},ram:{name:i("html.label.ram"),type:r,tooltip:g.Md.zeroDecimals,data:l.ram,color:c?(0,O.Xf)(a.colors.ram):a.colors.ram,yAxis:3},entities:{name:i("html.label.loadedEntities"),type:r,tooltip:g.Md.zeroDecimals,data:l.entities,color:c?(0,O.Xf)(a.colors.entities):a.colors.entities,yAxis:4},chunks:{name:i("html.label.loadedChunks"),type:r,tooltip:g.Md.zeroDecimals,data:l.chunks,color:c?(0,O.Xf)(a.colors.chunks):a.colors.chunks,yAxis:5}};v()(x()),S()(x()),x().setOptions({lang:{noData:i("html.label.noDataToDisplay")}}),x().setOptions(o),x().stockChart(t,{chart:{noData:i("html.label.noDataToDisplay")},rangeSelector:{selected:2,buttons:g.AA},yAxis:k,title:{text:""},plotOptions:{areaspline:{fillOpacity:c?.2:.4}},legend:{enabled:!0},time:{timezoneOffset:d},series:[n.playersOnline,n.tps,n.cpu,n.ram,n.entities,n.chunks,s]})}),[a,l,o,c,t,i,d,s]),(0,D.jsx)("div",{className:"chart-area",style:{height:"450px"},id:t,children:(0,D.jsx)("span",{className:"loader"})})},z=function(e){var t=e.id,a=e.data,l=e.dataSeries,s=e.pluginHistorySeries,i=(0,p.$G)().t,n=(0,j.Fg)(),o=n.graphTheming,c=n.nightModeEnabled,d=(0,A.A)().timeZoneOffsetMinutes;return(0,r.useEffect)((function(){var e={tps:[{value:a.zones.tpsThresholdMed,color:c?(0,O.Xf)(a.colors.low):a.colors.low},{value:a.zones.tpsThresholdHigh,color:c?(0,O.Xf)(a.colors.med):a.colors.med},{value:30,color:c?(0,O.Xf)(a.colors.high):a.colors.high}]},r={playersOnline:{name:i("html.label.playersOnline"),type:"areaspline",tooltip:g.Md.zeroDecimals,data:l.playersOnline,color:a.colors.playersOnline,yAxis:0},tps:{name:i("html.label.tps"),type:"spline",color:c?(0,O.Xf)(a.colors.high):a.colors.high,zones:e.tps,tooltip:g.Md.twoDecimals,data:l.tps,yAxis:1}};v()(x()),S()(x()),x().setOptions({lang:{noData:i("html.label.noDataToDisplay")}}),x().setOptions(o),x().stockChart(t,{chart:{noData:i("html.label.noDataToDisplay")},rangeSelector:{selected:1,buttons:g.AA},yAxis:[{labels:{formatter:function(){return this.value+" "+i("html.unit.players")}},softMin:0,softMax:2},{labels:{formatter:function(){return this.value+" "+i("html.label.tps")}}}],title:{text:""},plotOptions:{areaspline:{fillOpacity:c?.2:.4}},legend:{enabled:!0},time:{timezoneOffset:d},series:[r.playersOnline,r.tps,s]})}),[a,l,o,c,t,i,d,s]),(0,D.jsx)("div",{className:"chart-area",style:{height:"450px"},id:t,children:(0,D.jsx)("span",{className:"loader"})})},Z=function(e){var t=e.id,a=e.data,l=e.dataSeries,s=e.pluginHistorySeries,i=(0,p.$G)().t,n=(0,j.Fg)(),o=n.graphTheming,c=n.nightModeEnabled,d=(0,A.A)().timeZoneOffsetMinutes;return(0,r.useEffect)((function(){var e="spline",r={playersOnline:{name:i("html.label.playersOnline"),type:"areaspline",tooltip:g.Md.zeroDecimals,data:l.playersOnline,color:a.colors.playersOnline,yAxis:0},cpu:{name:i("html.label.cpu"),type:e,tooltip:g.Md.twoDecimals,data:l.cpu,color:c?(0,O.Xf)(a.colors.cpu):a.colors.cpu,yAxis:1},ram:{name:i("html.label.ram"),type:e,tooltip:g.Md.zeroDecimals,data:l.ram,color:c?(0,O.Xf)(a.colors.ram):a.colors.ram,yAxis:2}};v()(x()),S()(x()),x().setOptions({lang:{noData:i("html.label.noDataToDisplay")}}),x().setOptions(o),x().stockChart(t,{chart:{noData:i("html.label.noDataToDisplay")},rangeSelector:{selected:1,buttons:g.AA},yAxis:[{labels:{formatter:function(){return this.value+" "+i("html.unit.players")}},softMin:0,softMax:2},{labels:{formatter:function(){return this.value+" %"}},softMin:0,softMax:100},{labels:{formatter:function(){return this.value+" MB"}},softMin:0}],title:{text:""},plotOptions:{areaspline:{fillOpacity:c?.2:.4}},legend:{enabled:!0},time:{timezoneOffset:d},series:[r.playersOnline,r.cpu,r.ram,s]})}),[a,l,o,c,t,i,d,s]),(0,D.jsx)("div",{className:"chart-area",style:{height:"450px"},id:t,children:(0,D.jsx)("span",{className:"loader"})})},w=function(e){var t=e.id,a=e.data,l=e.dataSeries,s=e.pluginHistorySeries,i=(0,p.$G)().t,n=(0,j.Fg)(),o=n.graphTheming,c=n.nightModeEnabled,d=(0,A.A)().timeZoneOffsetMinutes;return(0,r.useEffect)((function(){var e="spline",r={playersOnline:{name:i("html.label.playersOnline"),type:"areaspline",tooltip:g.Md.zeroDecimals,data:l.playersOnline,color:a.colors.playersOnline,yAxis:0},entities:{name:i("html.label.loadedEntities"),type:e,tooltip:g.Md.zeroDecimals,data:l.entities,color:c?(0,O.Xf)(a.colors.entities):a.colors.entities,yAxis:1},chunks:{name:i("html.label.loadedChunks"),type:e,tooltip:g.Md.zeroDecimals,data:l.chunks,color:c?(0,O.Xf)(a.colors.chunks):a.colors.chunks,yAxis:2}};v()(x()),S()(x()),x().setOptions({lang:{noData:i("html.label.noDataToDisplay")}}),x().setOptions(o),x().stockChart(t,{chart:{noData:i("html.label.noDataToDisplay")},rangeSelector:{selected:2,buttons:g.AA},yAxis:[{labels:{formatter:function(){return this.value+" "+i("html.unit.players")}},softMin:0,softMax:2},{labels:{formatter:function(){return this.value+" "+i("html.label.entities")}},softMin:0},{labels:{formatter:function(){return this.value+" "+i("html.unit.chunks")}},softMin:0}],title:{text:""},plotOptions:{areaspline:{fillOpacity:c?.2:.4}},legend:{enabled:!0},time:{timezoneOffset:d},series:[r.playersOnline,r.entities,r.chunks,s]})}),[a,l,o,c,t,i,d,s]),(0,D.jsx)("div",{className:"chart-area",style:{height:"450px"},id:t,children:(0,D.jsx)("span",{className:"loader"})})},H=function(e){var t=e.id,a=e.data,l=e.dataSeries,s=e.pluginHistorySeries,i=(0,p.$G)().t,n=(0,j.Fg)(),o=n.graphTheming,c=n.nightModeEnabled,d=(0,A.A)().timeZoneOffsetMinutes;return(0,r.useEffect)((function(){var e={disk:[{value:a.zones.diskThresholdMed,color:a.colors.low},{value:a.zones.diskThresholdHigh,color:a.colors.med},{value:Number.MAX_VALUE,color:a.colors.high}]},r={disk:{name:i("html.label.disk"),type:"areaspline",color:c?(0,O.Xf)(a.colors.high):a.colors.high,zones:e.disk,tooltip:g.Md.zeroDecimals,data:l.disk}};v()(x()),S()(x()),x().setOptions({lang:{noData:i("html.label.noDataToDisplay")}}),x().setOptions(o),x().stockChart(t,{chart:{noData:i("html.label.noDataToDisplay")},rangeSelector:{selected:2,buttons:g.AA},yAxis:{labels:{formatter:function(){return this.value+" MB"}},softMin:0},title:{text:""},plotOptions:{areaspline:{fillOpacity:c?.2:.4}},legend:{enabled:!0},time:{timezoneOffset:d},series:[r.disk,s]})}),[a,l,o,c,t,i,d,s]),(0,D.jsx)("div",{className:"chart-area",style:{height:"450px"},id:t,children:(0,D.jsx)("span",{className:"loader"})})},T=a(56080),C=a(61636),N=function(e){var t=e.data,a=e.dataSeries,r=e.pluginHistorySeries,l=e.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):a?(0,D.jsx)(E,{id:"server-performance-all-chart",data:t,dataSeries:a,pluginHistorySeries:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},X=function(e){var t=e.data,a=e.dataSeries,r=e.pluginHistorySeries,l=e.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):a?(0,D.jsx)(z,{id:"server-performance-tps-chart",data:t,dataSeries:a,pluginHistorySeries:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},G=function(e){var t=e.data,a=e.dataSeries,r=e.pluginHistorySeries,l=e.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):a?(0,D.jsx)(Z,{id:"server-performance-cpuram-chart",data:t,dataSeries:a,pluginHistorySeries:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},_=function(e){var t=e.data,a=e.dataSeries,r=e.pluginHistorySeries,l=e.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):a?(0,D.jsx)(w,{id:"server-performance-world-chart",data:t,dataSeries:a,pluginHistorySeries:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},$=function(e){var t=e.data,a=e.dataSeries,r=e.pluginHistorySeries,l=e.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):a?(0,D.jsx)(H,{id:"server-performance-disk-chart",data:t,dataSeries:a,pluginHistorySeries:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},F=function(e){var t=e.identifier,a=(0,n.m)(o.xc,[t]),r=a.data,l=a.loadingError;return l?(0,D.jsx)(d.ah,{error:l}):r?(0,D.jsx)(T.Z,{id:"server-performance-ping-chart",data:r}):(0,D.jsx)(f.aC,{style:{height:"450px"}})},L=function(){var e=(0,p.$G)().t,t=(0,C.a)(),a=t.authRequired,l=t.hasPermission,s=(0,i.UO)().identifier,d=(0,n.m)(o.rS,[s]),f=d.data,y=d.loadingError,x=(0,r.useState)(void 0),b=(0,c.Z)(x,2),v=b[0],j=b[1],O=(0,n.m)(o.vE,[s],a&&l("page.server.plugin.history")),M=O.data,S=O.loadingError,A=(0,r.useState)({}),k=(0,c.Z)(A,2),E=k[0],z=k[1];return(0,r.useEffect)((function(){f&&(0,g.ET)(f.values).then((function(e){return j(e)}))}),[f,j]),(0,r.useEffect)((function(){var t,a;if(M){var r=(t=M.history.reverse(),a="modified",t.reduce((function(e,t){return(e[t[a]]=e[t[a]]||[]).push(t),e}),{}));z({type:"flags",accessibility:{exposeAsGroupOnly:!0,description:e("html.label.pluginVersionHistory")},tooltip:{headerFormat:""},data:Object.entries(r).map((function(t){var a=t[1].filter((function(e){return e.version})).map((function(e){return e.name+": "+e.version})).join(", <br>"),r=t[1].filter((function(e){return!e.version})).map((function(e){return e.name})).join(", <br>");return{x:t[0],title:t[1].length,text:(a.length?"<b>"+e("html.label.installed")+"</b><br>"+a:"")+(r.length?"<b>"+e("html.label.uninstalled")+"</b><br>"+r:"")}}))})}}),[M,z,e]),(0,D.jsx)(h.Z,{id:"performance-graphs",children:(0,D.jsx)(u.Z,{tabs:[{name:e("html.label.all"),icon:m.Obi,color:"blue-grey",href:"all",element:(0,D.jsx)(N,{data:f,dataSeries:v,pluginHistorySeries:E,loadingError:y||S})},{name:e("html.label.tps"),icon:m.HLz,color:"red",href:"tps",element:(0,D.jsx)(X,{data:f,dataSeries:v,pluginHistorySeries:E,loadingError:y||S})},{name:e("html.label.cpuRam"),icon:m.zvy,color:"light-green",href:"cpu-ram",element:(0,D.jsx)(G,{data:f,dataSeries:v,pluginHistorySeries:E,loadingError:y||S})},{name:e("html.label.world"),icon:m.Wx7,color:"purple",href:"world-load",element:(0,D.jsx)(_,{data:f,dataSeries:v,pluginHistorySeries:E,loadingError:y||S})},{name:e("html.label.ping"),icon:m.CSz,color:"amber",href:"ping",element:(0,D.jsx)(F,{identifier:s})},{name:e("html.label.diskSpace"),icon:m.vc8,color:"green",href:"disk",element:(0,D.jsx)($,{data:f,dataSeries:v,pluginHistorySeries:E,loadingError:y||S})}]})})},W=a(60578),B=a(16261),P=function(e){var t=e.data,a=(0,p.$G)().t;return t?(0,D.jsxs)(W.Z,{id:"performance-insights",children:[(0,D.jsx)("p",{children:a("html.label.duringLowTps")}),(0,D.jsx)(B.Z,{name:a("html.label.average")+" "+a("html.label.players"),icon:m.FVb,color:"red",value:t.low_tps_players,bold:!0}),(0,D.jsx)(B.Z,{name:a("html.label.averageEntities"),icon:m.SPn,color:"red",value:t.low_tps_entities}),(0,D.jsx)(B.Z,{name:a("html.label.averageChunks"),icon:m.Wx7,color:"red",value:t.low_tps_chunks}),(0,D.jsx)(B.Z,{name:a("html.label.averageCpuUsage"),icon:m.HLz,color:"red",value:t.low_tps_entities}),(0,D.jsx)(B.Z,{name:a("html.label.averageTps"),icon:m.HLz,color:"red",value:t.low_tps_tps})]}):(0,D.jsx)(f.ym,{})},U=a(30014),V=a(2936),I=function(){var e=(0,C.a)().hasPermission,t=(0,i.UO)().identifier,a=e("page.server.performance.graphs"),r=e("page.server.performance.overview"),c=(0,n.m)(o.Ij,[t],r),p=c.data,h=c.loadingError;return(0,D.jsx)(l.Z,{children:(0,D.jsxs)("section",{className:"server-performance",children:[a&&(0,D.jsx)(V.Z,{id:"row-server-performance-0",children:(0,D.jsx)(s.Z,{lg:12,children:(0,D.jsx)(L,{})})}),r&&(0,D.jsxs)(V.Z,{id:"row-server-performance-1",children:[(0,D.jsx)(s.Z,{lg:8,children:h?(0,D.jsx)(d.NY,{error:h}):(0,D.jsx)(U.Z,{data:null===p||void 0===p?void 0:p.numbers})}),(0,D.jsx)(s.Z,{lg:4,children:h?(0,D.jsx)(d.NY,{error:h}):(0,D.jsx)(P,{data:null===p||void 0===p?void 0:p.insights})})]})]})})}}}]);
//# sourceMappingURL=6029.715534f4.chunk.js.map
