"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[6429],{79840:function(e,t,n){var r=n(29439),a=n(72791),s=n(57689),i=n(31363),l=n(80184),o=function(e){var t=e.id,n=e.name,r=e.href,a=e.icon,o=e.color,c=e.active,d=e.disabled,u=(0,s.s0)();return(0,l.jsx)("li",{className:"nav-item"+(d?" disabled":""),id:t,children:(0,l.jsxs)("button",{disabled:d,className:"nav-link col-black"+(c?" active":""),"aria-selected":c,role:"tab",onClick:function(){return u("#"+r,{replace:!0})},children:[(0,l.jsx)(i.G,{icon:a,className:"col-"+o})," ",n]})})},c=function(e){var t=e.tabs,n=e.selectedTab;return(0,l.jsx)("ul",{className:"nav nav-tabs",role:"tablist",children:t.map((function(e){return(0,l.jsx)(o,{id:e.href+"-nav",name:e.name,href:e.href,icon:e.icon,color:e.color,active:e.href===n,disabled:e.disabled},e.href)}))})};t.Z=function(e){var t,n=e.tabs,i=(0,s.TH)().hash,o=n?n[0].href:void 0,d=(0,a.useState)(o),u=(0,r.Z)(d,2),h=u[0],x=u[1];(0,a.useEffect)((function(){var e;x(i&&n?null===(e=n.find((function(e){return e.href===i.substring(1)})))||void 0===e?void 0:e.href:o)}),[i,n,o]);var m=null===(t=n.find((function(e){return e.href===h})))||void 0===t?void 0:t.element;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{tabs:n,selectedTab:h}),m]})}},82124:function(e,t,n){n(72791);var r=n(90575),a=n(70525),s=n(74332),i=n(39230),l=n(31363),o=n(16850),c=n(80184);t.Z=function(e){var t=e.series,n=e.firstDay,d=e.onSelect,u=(0,i.$G)().t;return(0,c.jsxs)("div",{id:"server-calendar",children:[(0,c.jsxs)("p",{style:{position:"absolute",top:"0.5rem",right:"1rem"},children:[(0,c.jsx)(l.G,{icon:o.duH})," ",u("html.text.clickAndDrag")]}),(0,c.jsx)(r.Z,{plugins:[s.ZP,a.Z],timeZone:"UTC",themeSystem:"bootstrap",eventColor:"#2196F3",firstDay:n,initialView:"dayGridMonth",navLinks:!0,height:800,contentHeight:800,headerToolbar:{left:"title",center:"",right:"dayGridMonth dayGridWeek dayGridDay today prev next"},editable:Boolean(d),selectable:Boolean(d),select:d,unselectAuto:!0,events:function(e,n){return n(t)}})]})}},60578:function(e,t,n){var r=n(39230),a=n(28282),s=n(31363),i=(n(72791),n(16850)),l=n(80184);t.Z=function(e){var t=e.id,n=e.children,o=(0,r.$G)().t;return(0,l.jsxs)(a.Z,{id:t,children:[(0,l.jsx)(a.Z.Header,{children:(0,l.jsxs)("h6",{className:"col-black",children:[(0,l.jsx)(s.G,{icon:i.uli,className:"col-red"})," ",o("html.label.insights30days")]})}),(0,l.jsx)(a.Z.Body,{children:n})]})}},35751:function(e,t,n){var r=n(37762),a=n(29439),s=n(76308),i=n(72791),l=n(98442),o=n(67179),c=n.n(o),d=n(41900),u=n.n(d),h=n(75193),x=n.n(h),m=n(39230),v=n(93490),f=n(80184);t.Z=function(e){var t=e.id,n=e.series,o=e.legendEnabled,d=e.tall,h=e.yAxis,p=e.selectedRange,j=e.extremes,y=e.onSetExtremes,g=e.alreadyOffsetTimezone,_=e.options,b=e.extraModules,Z=(0,m.$G)().t,w=(0,s.Fg)(),S=w.graphTheming,D=w.nightModeEnabled,k=(0,v.A)().timeZoneOffsetMinutes,F=(0,i.useState)(void 0),N=(0,a.Z)(F,2),M=N[0],G=N[1];(0,i.useEffect)((function(){if(u()(c()),x()(c()),b){var e,a=(0,r.Z)(b);try{for(a.s();!(e=a.n()).done;){(0,e.value)(c())}}catch(s){a.e(s)}finally{a.f()}}c().setOptions({lang:{noData:Z("html.label.noDataToDisplay")}}),c().setOptions(S),G(c().stockChart(t,_||{chart:{noData:Z("html.label.noDataToDisplay")},rangeSelector:{selected:void 0!==p?p:2,buttons:l.AA},yAxis:h||{softMax:2,softMin:0},xAxis:{events:{afterSetExtremes:function(e){y&&y(e)}}},title:{text:""},plotOptions:{areaspline:{fillOpacity:D?.2:.4}},legend:{enabled:o},time:{timezoneOffset:g?0:k},series:n}))}),[_,b,n,t,Z,S,D,g,k,o,h,y,G,p]),(0,i.useEffect)((function(){var e;null!==M&&void 0!==M&&null!==(e=M.xAxis)&&void 0!==e&&e.length&&j&&M.xAxis[0].setExtremes(j.min,j.max)}),[M,j]);var T=d?{height:"450px"}:void 0;return(0,f.jsx)("div",{className:"chart-area",style:T,id:t,children:(0,f.jsx)("span",{className:"loader"})})}},4344:function(e,t,n){var r=n(72791),a=n(29718),s=n.n(a),i=n(76308),l=n(39230),o=n(75193),c=n.n(o),d=n(66360),u=n(80184);t.Z=function(e){var t=e.series,n=(0,l.$G)().t,a=(0,i.Fg)(),o=a.graphTheming,h=a.nightModeEnabled;return(0,r.useEffect)((function(){var e={name:n("html.label.relativeJoinActivity"),color:h?(0,d.Xf)("#222"):"#222",data:t};c()(s()),s().setOptions(o),setTimeout((function(){return s().chart("punchcard",{chart:{noData:n("html.label.noDataToDisplay"),backgroundColor:"transparent",plotBackgroundColor:"transparent",defaultSeriesType:"scatter"},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{hour:"%I %P",day:"%I %P"},tickInterval:36e5},time:{timezoneOffset:0},yAxis:{title:{text:n("html.label.dayOfweek")},reversed:!0,categories:n("html.label.weekdays").replaceAll("'","").split(", ")},tooltip:{pointFormat:n("html.label.active")+": {point.z}"},series:[e]})}),25)}),[t,o,n,h]),(0,u.jsx)("div",{className:"chart-area",id:"punchcard",children:(0,u.jsx)("span",{className:"loader"})})}},25329:function(e,t,n){var r=n(29439),a=n(39230),s=n(72791),i=n(98442),l=n(35751),o=n(76308),c=n(66360),d=n(80184);t.Z=function(e){var t=e.id,n=e.data,u=(0,a.$G)().t,h=(0,s.useState)([]),x=(0,r.Z)(h,2),m=x[0],v=x[1],f=(0,o.Fg)().nightModeEnabled;return(0,s.useEffect)((function(){var e={name:u("html.label.uniquePlayers"),type:"spline",tooltip:i.Md.zeroDecimals,data:n.uniquePlayers,color:f?(0,c.Xf)(n.colors.playersOnline):n.colors.playersOnline},t={name:u("html.label.newPlayers"),type:"spline",tooltip:i.Md.zeroDecimals,data:n.newPlayers,color:f?(0,c.Xf)(n.colors.newPlayers):n.colors.newPlayers};v([e,t])}),[n,u,f]),(0,d.jsx)(l.Z,{id:t,series:m,alreadyOffsetTimezone:!0})}},7008:function(e,t,n){n(72791);var r=n(76308),a=n(84191),s=n(80184);t.Z=function(e){var t=e.headers,n=e.children,i=e.comparisonHeader,l=(0,r.Fg)().nightModeEnabled;return(0,s.jsxs)("table",{className:"table table-striped"+(l?" table-dark":""),children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsx)(a.Z,{children:i})}),t.map((function(e,t){return(0,s.jsx)("th",{children:e},t)}))]})}),(0,s.jsx)("tbody",{children:n})]})}},93084:function(e,t,n){n.d(t,{S:function(){return i}});var r=n(31363),a=(n(72791),n(39230)),s=n(80184),i=function(e){var t=e.icon,n=e.text,i=e.color,l=e.values,o=e.bold,c=(0,a.$G)().t;if(!l||l.filter((function(e){return void 0!==e})).length<l.length)return(0,s.jsx)(s.Fragment,{});var d=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.G,{icon:t,className:"col-"+i})," ",n]});return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:o?(0,s.jsx)("b",{children:d}):d}),l.map((function(e,t){var n="string"===typeof e&&(e.startsWith("html")||e.startsWith("plugin"))?c(e):e;return(0,s.jsx)("td",{children:n},t)}))]})}},84191:function(e,t,n){var r=n(31363),a=n(11632),s=(n(72791),n(80184));t.Z=function(e){var t=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.G,{icon:a.l1h,className:"comparing text-success"}),(0,s.jsx)(r.G,{icon:a.eW2,className:"comparing text-danger"})," ",(0,s.jsx)("small",{children:t})]})}},43537:function(e,t,n){n(72791);var r=n(31363),a=n(11632),s=n(80184),i=function(e){var t=e.value;return(0,s.jsx)(r.G,{icon:a.l1h,className:"trend text-success",title:t})},l=function(e){var t=e.value;return(0,s.jsx)(r.G,{icon:a.l1h,className:"trend text-danger",title:t})},o=function(e){var t=e.value;return(0,s.jsx)(r.G,{icon:a.eW2,className:"trend text-danger",title:t})},c=function(e){var t=e.value;return(0,s.jsx)(r.G,{icon:a.eW2,className:"trend text-success",title:t})},d=function(e){var t=e.value;return(0,s.jsx)(r.G,{icon:a.I4f,className:"trend text-warning",title:t})};t.Z=function(e){var t=e.trend;if(!t)return(0,s.jsx)(d,{value:"?"});switch(t.direction){case"+":return t.reversed?(0,s.jsx)(l,{value:t.text}):(0,s.jsx)(i,{value:t.text});case"-":return t.reversed?(0,s.jsx)(c,{value:t.text}):(0,s.jsx)(o,{value:t.text});default:return(0,s.jsx)(d,{value:t.text})}}},98442:function(e,t,n){n.d(t,{AA:function(){return r},ET:function(){return s},Md:function(){return a},px:function(){return i}});var r=[{type:"hour",count:12,text:"12h"},{type:"hour",count:24,text:"24h"},{type:"day",count:7,text:"7d"},{type:"month",count:1,text:"30d"},{type:"all",text:"All"}],a={twoDecimals:{valueDecimals:2},zeroDecimals:{valueDecimals:0}},s=function(e){var t=[],n=[],r=[],a=[],s=[],i=[],l=[];return new Promise((function(o){var c=0,d=e.length;!function u(){for(var h=Math.min(c+1e3,d);c<h;c++){var x=e[c],m=x[0];t[c]=[m,x[1]],n[c]=[m,x[2]],r[c]=[m,x[3]],a[c]=[m,x[4]],s[c]=[m,x[5]],i[c]=[m,x[6]],l[c]=[m,x[7]]}c>=d?o({playersOnline:t,tps:n,cpu:r,ram:a,entities:s,chunks:i,disk:l}):setTimeout(u,10)}()}))},i={PLAYERS_ONLINE:{labels:{formatter:function(){return this.value+" P"}},softMin:0,softMax:2},TPS:{opposite:!0,labels:{formatter:function(){return this.value+" TPS"}},softMin:0,softMax:20},CPU:{opposite:!0,labels:{formatter:function(){return this.value+"%"}},softMin:0,softMax:100},RAM_OR_DISK:{labels:{formatter:function(){return this.value+" MB"}},softMin:0},ENTITIES:{opposite:!0,labels:{formatter:function(){return this.value+" E"}},softMin:0,softMax:2},CHUNKS:{labels:{formatter:function(){return this.value+" C"}},softMin:0}}},36429:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(72791),a=n(2677),s=n(74165),i=n(15861),l=n(29439),o=n(57689),c=n(99220),d=n(38646),u=n(28782),h=n(4344),x=n(39230),m=n(28282),v=n(79840),f=n(11632),p=n(16850),j=n(25329),y=n(82124),g=n(27949),_=n(61636),b=n(67179),Z=n.n(b),w=n(15353),S=n(48292),D=n(93490),k=n(80184),F=function(){var e=(0,o.UO)().identifier,t=(0,c.m)(d.sf,[e]),n=t.data,r=t.loadingError;return r?(0,k.jsx)(u.ah,{error:r}):n?(0,k.jsx)(j.Z,{id:"day-by-day-graph",data:n}):(0,k.jsx)(g.aC,{})},N=function(){var e=(0,o.UO)().identifier,t=(0,c.m)(d.Li,[e]),n=t.data,r=t.loadingError;return r?(0,k.jsx)(u.ah,{error:r}):n?(0,k.jsx)(j.Z,{id:"hour-by-hour-graph",data:n}):(0,k.jsx)(g.aC,{})},M=function(){var e=(0,o.UO)().identifier,t=(0,c.m)(d.p2,[e]),n=t.data,a=t.loadingError,h=(0,D.A)().networkMetadata,x=(0,r.useState)(!1),m=(0,l.Z)(x,2),v=m[0],f=m[1],p=(0,r.useState)(void 0),j=(0,l.Z)(p,2),_=j[0],b=j[1],F=(0,r.useCallback)((function(){f(!1)}),[f]),N=(0,r.useCallback)(function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n){var r,a,i,l,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Z().dateFormat("%d/%m/%Y",n.start),a=Z().dateFormat("%d/%m/%Y",n.end),i={filters:[{kind:"playedBetween",parameters:{afterDate:r,afterTime:"00:00",beforeDate:a,beforeTime:"00:00"}}],view:{afterDate:r,afterTime:"00:00",beforeDate:a,beforeTime:"00:00",servers:(null===h||void 0===h?void 0:h.servers.filter((function(t){return t.serverUUID===e})))||[]}},b(void 0),f(!0),t.next=7,(0,w.HF)(i);case 7:l=t.sent,(o=null===l||void 0===l?void 0:l.data)&&b(o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[b,f,h,e]);return a?(0,k.jsx)(u.ah,{error:a}):n?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.Z,{series:n.data,firstDay:n.firstDay,onSelect:N}),(0,k.jsx)(S.Z,{open:v,toggle:F,queryData:_})]}):(0,k.jsx)(g.aC,{})},G=function(){var e=(0,o.UO)().identifier,t=(0,c.m)(d.I3,[e]),n=t.data,r=t.loadingError;return r?(0,k.jsx)(u.ah,{error:r}):n?(0,k.jsx)(h.Z,{series:n.punchCard}):(0,k.jsx)(g.aC,{})},T=function(){var e=(0,_.a)().hasPermission,t=(0,x.$G)().t,n=[{name:t("html.label.dayByDay"),icon:f.heh,color:"blue",href:"day-by-day",element:(0,k.jsx)(F,{}),permission:"page.server.online.activity.graphs.day.by.day"},{name:t("html.label.hourByHour"),icon:f.heh,color:"blue",href:"hour-by-hour",element:(0,k.jsx)(N,{}),permission:"page.server.online.activity.graphs.hour.by.hour"},{name:t("html.label.serverCalendar"),icon:p.fT7,color:"teal",href:"server-calendar",element:(0,k.jsx)(M,{}),permission:"page.server.online.activity.graphs.calendar"},{name:t("html.label.punchcard30days"),icon:f.LuL,color:"black",href:"punchcard",element:(0,k.jsx)(G,{}),permission:"page.server.online.activity.graphs.punchcard"}].filter((function(t){return e(t.permission)}));return(0,k.jsx)(m.Z,{id:"online-activity-graphs",children:(0,k.jsx)(v.Z,{tabs:n})})},P=n(31363),E=n(93084),A=n(7008),C=n(43537),O=n(89114),q=function(e){var t=e.data,n=(0,x.$G)().t,a=(0,O.H)().setHelpModalTopic,s=(0,r.useCallback)((function(){return a("new-player-retention")}),[a]);return t?(0,k.jsxs)(A.Z,{headers:[n("html.label.last30days"),n("html.label.last7days"),n("html.label.last24hours")],comparisonHeader:n("html.text.comparing15days"),children:[(0,k.jsx)(E.S,{icon:f.FVb,color:"light-blue",text:n("html.label.uniquePlayers"),values:[(0,k.jsxs)(k.Fragment,{children:[t.unique_players_30d," ",(0,k.jsx)(C.Z,{trend:t.unique_players_30d_trend})]}),t.unique_players_7d,t.unique_players_24h]}),(0,k.jsx)(E.S,{icon:f.ILF,color:"light-blue",text:n("html.label.uniquePlayers")+" "+n("html.label.perDay"),values:[(0,k.jsxs)(k.Fragment,{children:[t.unique_players_30d_avg," ",(0,k.jsx)(C.Z,{trend:t.unique_players_30d_avg_trend})]}),t.unique_players_7d_avg,t.unique_players_24h_avg]}),(0,k.jsx)(E.S,{icon:f.FVb,color:"light-green",text:n("html.label.newPlayers"),values:[(0,k.jsxs)(k.Fragment,{children:[t.new_players_30d," ",(0,k.jsx)(C.Z,{trend:t.new_players_30d_trend})]}),t.new_players_7d,t.new_players_24h]}),(0,k.jsx)(E.S,{icon:f.FKd,color:"light-green",text:n("html.label.newPlayers")+" "+n("html.label.perDay"),values:[(0,k.jsxs)(k.Fragment,{children:[t.new_players_30d_avg," ",(0,k.jsx)(C.Z,{trend:t.new_players_30d_avg_trend})]}),t.new_players_7d_avg,t.new_players_24h_avg]}),(0,k.jsx)(E.S,{icon:f.m08,color:"light-green",text:(0,k.jsxs)(k.Fragment,{children:[n("html.label.newPlayerRetention"),"  ",(0,k.jsx)("span",{children:(0,k.jsx)("button",{onClick:s,children:(0,k.jsx)(P.G,{className:"col-black",icon:p.sph})})})]}),values:["(".concat(t.new_players_retention_30d,"/").concat(t.new_players_30d,") ").concat(t.new_players_retention_30d_perc),"(".concat(t.new_players_retention_7d,"/").concat(t.new_players_7d,") ").concat(t.new_players_retention_7d_perc),(0,k.jsxs)(k.Fragment,{children:["(".concat(t.new_players_retention_24h,"/").concat(t.new_players_24h,") ").concat(t.new_players_retention_24h_perc),(0,k.jsx)(P.G,{icon:p.Mdf,title:n("html.description.newPlayerRetention")})]})]}),(0,k.jsx)(E.S,{icon:p.SZw,color:"green",text:n("html.label.playtime"),values:[(0,k.jsxs)(k.Fragment,{children:[t.playtime_30d," ",(0,k.jsx)(C.Z,{trend:t.playtime_30d_trend})]}),t.playtime_7d,t.playtime_24h]}),(0,k.jsx)(E.S,{icon:p.SZw,color:"green",text:n("html.label.averagePlaytime")+" "+n("html.label.perDay"),values:[(0,k.jsxs)(k.Fragment,{children:[t.playtime_30d_avg," ",(0,k.jsx)(C.Z,{trend:t.playtime_30d_avg_trend})]}),t.playtime_7d_avg,t.playtime_24h_avg]}),(0,k.jsx)(E.S,{icon:p.SZw,color:"teal",text:n("html.label.averageSessionLength"),values:[(0,k.jsxs)(k.Fragment,{children:[t.session_length_30d_avg," ",(0,k.jsx)(C.Z,{trend:t.session_length_30d_avg_trend})]}),t.session_length_7d_avg,t.session_length_24h_avg]}),(0,k.jsx)(E.S,{icon:p.Ry6,color:"teal",text:n("html.label.sessions"),values:[(0,k.jsxs)(k.Fragment,{children:[t.sessions_30d," ",(0,k.jsx)(C.Z,{trend:t.sessions_30d_trend})]}),t.sessions_7d,t.sessions_24h]})]}):(0,k.jsx)(g.ym,{})},H=function(e){var t=e.data,n=(0,x.$G)().t;return t?(0,k.jsxs)(m.Z,{id:"online-activity-numbers",children:[(0,k.jsx)(m.Z.Header,{children:(0,k.jsxs)("h6",{className:"col-black",children:[(0,k.jsx)(P.G,{icon:f.cnt,className:"col-light-blue"})," ",n("html.label.onlineActivityAsNumbers")]})}),(0,k.jsx)(q,{data:t})]}):(0,k.jsx)(g.ym,{})},I=n(60578),L=n(16261),U=n(84191),$=n(39207),z=function(e){var t=e.data,n=(0,x.$G)().t;return t?(0,k.jsxs)(I.Z,{id:"online-activity-insights",children:[(0,k.jsx)(L.Z,{name:n("html.label.onlineOnFirstJoin"),icon:f.NdV,color:"light-green",value:t.players_first_join_avg,trend:(0,k.jsx)(C.Z,{trend:t.players_first_join_avg_trend})}),(0,k.jsx)(L.Z,{name:n("html.label.firstSessionLength.average"),icon:f.hnx,color:"light-green",value:t.first_session_length_avg,trend:(0,k.jsx)(C.Z,{trend:t.first_session_length_avg_trend})}),(0,k.jsx)(L.Z,{name:n("html.label.firstSessionLength.median"),icon:f.hnx,color:"light-green",value:t.first_session_length_median,trend:(0,k.jsx)(C.Z,{trend:t.first_session_length_median_trend})}),(0,k.jsx)(L.Z,{name:n("html.label.loneJoins"),icon:p.fT7,color:"teal",value:t.lone_joins,trend:(0,k.jsx)(C.Z,{trend:t.lone_joins_trend})}),(0,k.jsx)(L.Z,{name:n("html.label.loneNewbieJoins"),icon:p.a1i,color:"teal",value:t.lone_new_joins,trend:(0,k.jsx)(C.Z,{trend:t.lone_new_joins_trend})}),(0,k.jsx)($.Z,{children:(0,k.jsx)(U.Z,{children:n("html.text.comparing15days")})})]}):(0,k.jsx)(g.ym,{})},B=n(51425),R=n(2936),W=function(){var e=(0,_.a)(),t=e.hasPermission,n=e.hasChildPermission,r=(0,o.UO)().identifier,s=t("page.server.online.activity.overview"),i=n("page.server.online.activity.graphs"),l=(0,c.m)(d.ki,[r],s),h=l.data,x=l.loadingError;return x?(0,k.jsx)(u.ZP,{error:x}):(0,k.jsx)(B.Z,{children:(0,k.jsxs)("section",{className:"server-online-activity-overview",children:[i&&(0,k.jsx)(R.Z,{id:"row-server-online-activity-overview-0",children:(0,k.jsx)(a.Z,{lg:12,children:(0,k.jsx)(T,{})})}),s&&(0,k.jsxs)(R.Z,{id:"row-server-online-activity-overview-1",children:[(0,k.jsx)(a.Z,{lg:8,children:(0,k.jsx)(H,{data:null===h||void 0===h?void 0:h.numbers})}),(0,k.jsx)(a.Z,{lg:4,children:(0,k.jsx)(z,{data:null===h||void 0===h?void 0:h.insights})})]})]})})}}}]);
//# sourceMappingURL=6429.8bafe74b.chunk.js.map
