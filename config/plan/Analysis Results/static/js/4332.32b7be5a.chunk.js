"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[4332],{74332:function(e,t,n){n.d(t,{ZP:function(){return A}});var i=n(97326),r=n(93433),o=n(37762),a=n(60136),l=n(29388),s=n(15671),c=n(43144),u=n(64750),d=n(77826);d.bI.touchMouseIgnoreWait=500;var g=0,h=0,v=!1,p=function(){function e(t){var n=this;(0,s.Z)(this,e),this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!n.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&n.tryStart(e)){var t=n.createEventFromMouse(e,!0);n.emitter.trigger("pointerdown",t),n.initScrollWatch(t),n.shouldIgnoreMove||document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp)}},this.handleMouseMove=function(e){var t=n.createEventFromMouse(e);n.recordCoords(t),n.emitter.trigger("pointermove",t)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),n.emitter.trigger("pointerup",n.createEventFromMouse(e)),n.cleanup()},this.handleTouchStart=function(e){if(n.tryStart(e)){n.isTouchDragging=!0;var t=n.createEventFromTouch(e,!0);n.emitter.trigger("pointerdown",t),n.initScrollWatch(t);var i=e.target;n.shouldIgnoreMove||i.addEventListener("touchmove",n.handleTouchMove),i.addEventListener("touchend",n.handleTouchEnd),i.addEventListener("touchcancel",n.handleTouchEnd),window.addEventListener("scroll",n.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var t=n.createEventFromTouch(e);n.recordCoords(t),n.emitter.trigger("pointermove",t)},this.handleTouchEnd=function(e){if(n.isDragging){var t=e.target;t.removeEventListener("touchmove",n.handleTouchMove),t.removeEventListener("touchend",n.handleTouchEnd),t.removeEventListener("touchcancel",n.handleTouchEnd),window.removeEventListener("scroll",n.handleTouchScroll,!0),n.emitter.trigger("pointerup",n.createEventFromTouch(e)),n.cleanup(),n.isTouchDragging=!1,g+=1,setTimeout((function(){g-=1}),d.bI.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){n.wasTouchScroll=!0},this.handleScroll=function(e){if(!n.shouldIgnoreMove){var t=window.pageXOffset-n.prevScrollX+n.prevPageX,i=window.pageYOffset-n.prevScrollY+n.prevPageY;n.emitter.trigger("pointermove",{origEvent:e,isTouch:n.isTouchDragging,subjectEl:n.subjectEl,pageX:t,pageY:i,deltaX:t-n.origPageX,deltaY:i-n.origPageY})}},this.containerEl=t,this.emitter=new d.F,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(h+=1)&&window.addEventListener("touchmove",f,{passive:!1})}return(0,c.Z)(e,[{key:"destroy",value:function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(h-=1)||window.removeEventListener("touchmove",f,{passive:!1})}},{key:"tryStart",value:function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!(0,d.$)(n,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}},{key:"cleanup",value:function(){v=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}},{key:"querySubjectEl",value:function(e){return this.selector?(0,d.$)(e.target,this.selector):this.containerEl}},{key:"shouldIgnoreMouse",value:function(){return g||this.isTouchDragging}},{key:"cancelTouchScroll",value:function(){this.isDragging&&(v=!0)}},{key:"initScrollWatch",value:function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}},{key:"recordCoords",value:function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}},{key:"destroyScrollWatch",value:function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}},{key:"createEventFromMouse",value:function(e,t){var n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}},{key:"createEventFromTouch",value:function(e,t){var n,i,r=e.touches,o=0,a=0;return r&&r.length?(n=r[0].pageX,i=r[0].pageY):(n=e.pageX,i=e.pageY),t?(this.origPageX=n,this.origPageY=i):(o=n-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:o,deltaY:a}}}]),e}();function f(e){v&&e.preventDefault()}var E=function(){function e(){(0,s.Z)(this,e),this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return(0,c.Z)(e,[{key:"start",value:function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}},{key:"handleMove",value:function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}},{key:"setIsVisible",value:function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}},{key:"stop",value:function(e,t){var n=this,i=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}},{key:"doRevertAnimation",value:function(e,t){var n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",(0,d.aP)(n,{left:i.left,top:i.top}),(0,d.b2)(n,(function(){n.style.transition="",e()}))}},{key:"cleanup",value:function(){this.mirrorEl&&((0,d.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}},{key:"updateElPosition",value:function(){this.sourceEl&&this.isVisible&&(0,d.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}},{key:"getMirrorEl",value:function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).style.userSelect="none",t.style.webkitUserSelect="none",t.classList.add("fc-event-dragging"),(0,d.aP)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}]),e}(),m=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,i){var r;return(0,s.Z)(this,n),(r=t.call(this)).handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=e,r.doesListening=i,r.scrollTop=r.origScrollTop=e.getScrollTop(),r.scrollLeft=r.origScrollLeft=e.getScrollLeft(),r.scrollWidth=e.getScrollWidth(),r.scrollHeight=e.getScrollHeight(),r.clientWidth=e.getClientWidth(),r.clientHeight=e.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}},{key:"getScrollTop",value:function(){return this.scrollTop}},{key:"getScrollLeft",value:function(){return this.scrollLeft}},{key:"setScrollTop",value:function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}},{key:"setScrollLeft",value:function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}},{key:"getClientWidth",value:function(){return this.clientWidth}},{key:"getClientHeight",value:function(){return this.clientHeight}},{key:"getScrollWidth",value:function(){return this.scrollWidth}},{key:"getScrollHeight",value:function(){return this.scrollHeight}},{key:"handleScrollChange",value:function(){}}]),n}(d.bb),S=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,i){return(0,s.Z)(this,n),t.call(this,new d.bc(e),i)}return(0,c.Z)(n,[{key:"getEventTarget",value:function(){return this.scrollController.el}},{key:"computeClientRect",value:function(){return(0,d.b3)(this.scrollController.el)}}]),n}(m),y=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,new d.bd,e)}return(0,c.Z)(n,[{key:"getEventTarget",value:function(){return window}},{key:"computeClientRect",value:function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}},{key:"handleScrollChange",value:function(){this.clientRect=this.computeClientRect()}}]),n}(m),D="function"===typeof performance?performance.now:Date.now,w=function(){function e(){var t=this;(0,s.Z)(this,e),this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(t.isAnimating){var e=t.computeBestEdge(t.pointerScreenX+window.pageXOffset,t.pointerScreenY+window.pageYOffset);if(e){var n=D();t.handleSide(e,(n-t.msSinceRequest)/1e3),t.requestAnimation(n)}else t.isAnimating=!1}}}return(0,c.Z)(e,[{key:"start",value:function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}},{key:"handleMove",value:function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,i=t-window.pageYOffset,r=null===this.pointerScreenY?0:i-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(D()))}}},{key:"stop",value:function(){if(this.isEnabled){this.isAnimating=!1;var e,t=(0,o.Z)(this.scrollCaches);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.scrollCaches=null}}},{key:"requestAnimation",value:function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}},{key:"handleSide",value:function(e,t){var n=e.scrollCache,i=this.edgeThreshold,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*a)}}},{key:"computeBestEdge",value:function(e,t){var n,i=this.edgeThreshold,r=null,a=this.scrollCaches||[],l=(0,o.Z)(a);try{for(l.s();!(n=l.n()).done;){var s=n.value,c=s.clientRect,u=e-c.left,d=c.right-e,g=t-c.top,h=c.bottom-t;u>=0&&d>=0&&g>=0&&h>=0&&(g<=i&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>g)&&(r={scrollCache:s,name:"top",distance:g}),h<=i&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>h)&&(r={scrollCache:s,name:"bottom",distance:h}),u<=i&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:s,name:"left",distance:u}),d<=i&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:s,name:"right",distance:d}))}}catch(v){l.e(v)}finally{l.f()}return r}},{key:"buildCaches",value:function(e){return this.queryScrollEls(e).map((function(e){return e===window?new y(!1):new S(e,!1)}))}},{key:"queryScrollEls",value:function(e){var t,n=[],i=(0,o.Z)(this.scrollQuery);try{for(i.s();!(t=i.n()).done;){var a=t.value;"object"===typeof a?n.push(a):n.push.apply(n,(0,r.Z)(Array.prototype.slice.call(e.getRootNode().querySelectorAll(a))))}}catch(l){i.e(l)}finally{i.f()}return n}}]),e}(),b=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,i){var r;(0,s.Z)(this,n),(r=t.call(this,e)).containerEl=e,r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(e){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,(0,d.ar)(document.body),(0,d.at)(document.body),e.isTouch||e.origEvent.preventDefault(),r.emitter.trigger("pointerdown",e),r.isInteracting&&!r.pointer.shouldIgnoreMove&&(r.mirror.setIsVisible(!1),r.mirror.start(e.subjectEl,e.pageX,e.pageY),r.startDelay(e),r.minDistance||r.handleDistanceSurpassed(e)))},r.onPointerMove=function(e){if(r.isInteracting){if(r.emitter.trigger("pointermove",e),!r.isDistanceSurpassed){var t=r.minDistance,n=e.deltaX,i=e.deltaY;n*n+i*i>=t*t&&r.handleDistanceSurpassed(e)}r.isDragging&&("scroll"!==e.origEvent.type&&(r.mirror.handleMove(e.pageX,e.pageY),r.autoScroller.handleMove(e.pageX,e.pageY)),r.emitter.trigger("dragmove",e))}},r.onPointerUp=function(e){r.isInteracting&&(r.isInteracting=!1,(0,d.as)(document.body),(0,d.au)(document.body),r.emitter.trigger("pointerup",e),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(e)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var o=r.pointer=new p(e);return o.emitter.on("pointerdown",r.onPointerDown),o.emitter.on("pointermove",r.onPointerMove),o.emitter.on("pointerup",r.onPointerUp),i&&(o.selector=i),r.mirror=new E,r.autoScroller=new w,r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.pointer.destroy(),this.onPointerUp({})}},{key:"startDelay",value:function(e){var t=this;"number"===typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)}},{key:"handleDelayEnd",value:function(e){this.isDelayEnded=!0,this.tryStartDrag(e)}},{key:"handleDistanceSurpassed",value:function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}},{key:"tryStartDrag",value:function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}},{key:"tryStopDrag",value:function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}},{key:"stopDrag",value:function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}},{key:"setIgnoreMove",value:function(e){this.pointer.shouldIgnoreMove=e}},{key:"setMirrorIsVisible",value:function(e){this.mirror.setIsVisible(e)}},{key:"setMirrorNeedsRevert",value:function(e){this.mirrorNeedsRevert=e}},{key:"setAutoScrollEnabled",value:function(e){this.autoScroller.isEnabled=e}}]),n}(d.bH),T=function(){function e(t){(0,s.Z)(this,e),this.origRect=(0,d.b6)(t),this.scrollCaches=(0,d.b5)(t).map((function(e){return new S(e,!0)}))}return(0,c.Z)(e,[{key:"destroy",value:function(){var e,t=(0,o.Z)(this.scrollCaches);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}},{key:"computeLeft",value:function(){var e,t=this.origRect.left,n=(0,o.Z)(this.scrollCaches);try{for(n.s();!(e=n.n()).done;){var i=e.value;t+=i.origScrollLeft-i.getScrollLeft()}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"computeTop",value:function(){var e,t=this.origRect.top,n=(0,o.Z)(this.scrollCaches);try{for(n.s();!(e=n.n()).done;){var i=e.value;t+=i.origScrollTop-i.getScrollTop()}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"isWithinClipping",value:function(e,t){var n,i={left:e,top:t},r=(0,o.Z)(this.scrollCaches);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!M(a.getEventTarget())&&!(0,d.aF)(i,a.clientRect))return!1}}catch(l){r.e(l)}finally{r.f()}return!0}}]),e}();function M(e){var t=e.tagName;return"HTML"===t||"BODY"===t}var R=function(){function e(t,n){var i=this;(0,s.Z)(this,e),this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=i.dragging;i.initialHit=null,i.movingHit=null,i.finalHit=null,i.prepareHits(),i.processFirstCoord(e),i.initialHit||!i.requireInitial?(t.setIgnoreMove(!1),i.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){i.emitter.trigger("dragstart",e),i.handleMove(e,!0)},this.handleDragMove=function(e){i.emitter.trigger("dragmove",e),i.handleMove(e)},this.handlePointerUp=function(e){i.releaseHits(),i.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){i.movingHit&&i.emitter.trigger("hitupdate",null,!0,e),i.finalHit=i.movingHit,i.movingHit=null,i.emitter.trigger("dragend",e)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new d.F}return(0,c.Z)(e,[{key:"processFirstCoord",value:function(e){var t,n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl;r instanceof HTMLElement&&(t=(0,d.b6)(r),i=(0,d.aG)(i,t));var o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&t){var a=(0,d.aE)(t,o.rect);a&&(i=(0,d.aH)(a))}this.coordAdjust=(0,d.aI)(i,n)}else this.coordAdjust={left:0,top:0}}},{key:"handleMove",value:function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&C(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}},{key:"prepareHits",value:function(){this.offsetTrackers=(0,d.a)(this.droppableStore,(function(e){return e.component.prepareHits(),new T(e.el)}))}},{key:"releaseHits",value:function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}}},{key:"queryHitForOffset",value:function(e,t){var n=this.droppableStore,i=this.offsetTrackers,r=null;for(var o in n){var a=n[o].component,l=i[o];if(l&&l.isWithinClipping(e,t)){var s=l.computeLeft(),c=l.computeTop(),u=e-s,g=t-c,h=l.origRect,v=h.right-h.left,p=h.bottom-h.top;if(u>=0&&u<v&&g>=0&&g<p){var f=a.queryHit(u,g,v,p);f&&(0,d.b9)(f.dateProfile.activeRange,f.dateSpan.range)&&(!r||f.layer>r.layer)&&(f.componentId=o,f.context=a.context,f.rect.left+=s,f.rect.right+=s,f.rect.top+=c,f.rect.bottom+=c,r=f)}}}return r}}]),e}();function C(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(0,d.bf)(e.dateSpan,t.dateSpan)}function k(e,t){var n,i,r,a={},l=(0,o.Z)(t.pluginHooks.datePointTransforms);try{for(l.s();!(n=l.n()).done;){var s=n.value;Object.assign(a,s(e,t))}}catch(c){l.e(c)}finally{l.f()}return Object.assign(a,(i=e,{date:(r=t.dateEnv).toDate(i.range.start),dateStr:r.formatIso(i.range.start,{omitTime:i.allDay}),allDay:i.allDay})),a}var I=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this,e)).handlePointerDown=function(e){var t=(0,i.Z)(r).dragging,n=e.origEvent.target;t.setIgnoreMove(!r.component.isValidDateDownEl(n))},r.handleDragEnd=function(e){var t=(0,i.Z)(r).component;if(!r.dragging.pointer.wasTouchScroll){var n=r.hitDragging,o=n.initialHit,a=n.finalHit;if(o&&a&&C(o,a)){var l=t.context,s=Object.assign(Object.assign({},k(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:e.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",s)}}},r.dragging=new b(e.el),r.dragging.autoScroller.isEnabled=!1;var o=r.hitDragging=new R(r.dragging,(0,d.bG)(e));return o.emitter.on("pointerdown",r.handlePointerDown),o.emitter.on("dragend",r.handleDragEnd),r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.dragging.destroy()}}]),n}(d.Z),Z=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this,e)).dragSelection=null,r.handlePointerDown=function(e){var t=(0,i.Z)(r),n=t.component,o=t.dragging,a=n.context.options.selectable&&n.isValidDateDownEl(e.origEvent.target);o.setIgnoreMove(!a),o.delay=e.isTouch?function(e){var t=e.context.options,n=t.selectLongPressDelay;null==n&&(n=t.longPressDelay);return n}(n):null},r.handleDragStart=function(e){r.component.context.calendarApi.unselect(e)},r.handleHitUpdate=function(e,t){var n=r.component.context,i=null,a=!1;if(e){var l=r.hitDragging.initialHit;e.componentId===l.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(l,e)||(i=function(e,t,n){var i=e.dateSpan,r=t.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(d.av);var l,s={},c=(0,o.Z)(n);try{for(c.s();!(l=c.n()).done;){var u=(0,l.value)(e,t);if(!1===u)return null;u&&Object.assign(s,u)}}catch(g){c.e(g)}finally{c.f()}return s.range={start:a[0],end:a[3]},s.allDay=i.allDay,s}(l,e,n.pluginHooks.dateSelectionTransformers)),i&&(0,d.b_)(i,e.dateProfile,n)||(a=!0,i=null)}i?n.dispatch({type:"SELECT_DATES",selection:i}):t||n.dispatch({type:"UNSELECT_DATES"}),a?(0,d.ax)():(0,d.aw)(),t||(r.dragSelection=i)},r.handlePointerUp=function(e){r.dragSelection&&((0,d.cu)(r.dragSelection,e,r.component.context),r.dragSelection=null)};var a=e.component.context.options,l=r.dragging=new b(e.el);l.touchScrollAllowed=!1,l.minDistance=a.selectMinDistance||0,l.autoScroller.isEnabled=a.dragScroll;var c=r.hitDragging=new R(r.dragging,(0,d.bG)(e));return c.emitter.on("pointerdown",r.handlePointerDown),c.emitter.on("dragstart",r.handleDragStart),c.emitter.on("hitupdate",r.handleHitUpdate),c.emitter.on("pointerup",r.handlePointerUp),r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.dragging.destroy()}}]),n}(d.Z);var P=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this,e)).subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(e){var t=e.origEvent.target,n=(0,i.Z)(r),o=n.component,a=n.dragging,l=a.mirror,s=o.context.options,c=o.context;r.subjectEl=e.subjectEl;var u=r.subjectSeg=(0,d._)(e.subjectEl),g=(r.eventRange=u.eventRange).instance.instanceId;r.relevantEvents=(0,d.aV)(c.getCurrentData().eventStore,g),a.minDistance=e.isTouch?0:s.eventDragMinDistance,a.delay=e.isTouch&&g!==o.props.eventSelection?function(e){var t=e.context.options,n=t.eventLongPressDelay;null==n&&(n=t.longPressDelay);return n}(o):null,s.fixedMirrorParent?l.parentNode=s.fixedMirrorParent:l.parentNode=(0,d.$)(t,".fc"),l.revertDuration=s.dragRevertDuration;var h=o.isValidSegDownEl(t)&&!(0,d.$)(t,".fc-event-resizer");a.setIgnoreMove(!h),r.isDragging=h&&e.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(e){var t=r.component.context,n=r.eventRange,i=n.instance.instanceId;e.isTouch?i!==r.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:i}):t.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new d.a0(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},r.handleHitUpdate=function(e,t){if(r.isDragging){var n=r.relevantEvents,i=r.hitDragging.initialHit,a=r.component.context,l=null,s=null,c=null,u=!1,g={affectedEvents:n,mutatedEvents:(0,d.I)(),isEvent:!0};if(e){var h=(l=e.context).options;a===l||h.editable&&h.droppable?(s=function(e,t,n){var i=e.dateSpan,r=t.dateSpan,a=i.range.start,l=r.range.start,s={};i.allDay!==r.allDay&&(s.allDay=r.allDay,s.hasEnd=t.context.options.allDayMaintainDuration,r.allDay&&(a=(0,d.q)(a)));var c=(0,d.aA)(a,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(s.allDay=!1);var u,g={datesDelta:c,standardProps:s},h=(0,o.Z)(n);try{for(h.s();!(u=h.n()).done;){(0,u.value)(g,e,t)}}catch(v){h.e(v)}finally{h.f()}return g}(i,e,l.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(c=(0,d.bX)(n,l.getCurrentData().eventUiBases,s,l),g.mutatedEvents=c,(0,d.bZ)(g,e.dateProfile,l)||(u=!0,s=null,c=null,g.mutatedEvents=(0,d.I)())):l=null}r.displayDrag(l,g),u?(0,d.ax)():(0,d.aw)(),t||(a===l&&C(i,e)&&(s=null),r.dragging.setMirrorNeedsRevert(!s),r.dragging.setMirrorIsVisible(!e||!r.subjectEl.getRootNode().querySelector(".fc-event-mirror")),r.receivingContext=l,r.validMutation=s,r.mutatedRelevantEvents=c)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(e){if(r.isDragging){var t=r.component.context,n=t.viewApi,a=(0,i.Z)(r),l=a.receivingContext,s=a.validMutation,c=r.eventRange.def,u=r.eventRange.instance,g=new d.a0(t,c,u),h=r.relevantEvents,v=r.mutatedRelevantEvents,p=r.hitDragging.finalHit;if(r.clearDrag(),t.emitter.trigger("eventDragStop",{el:r.subjectEl,event:g,jsEvent:e.origEvent,view:n}),s){if(l===t){var f=new d.a0(t,v.defs[c.defId],u?v.instances[u.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:v});var E,m={oldEvent:g,event:f,relatedEvents:(0,d.w)(v,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:h})}},S={},y=(0,o.Z)(t.getCurrentData().pluginHooks.eventDropTransformers);try{for(y.s();!(E=y.n()).done;){var D=E.value;Object.assign(S,D(s,t))}}catch(C){y.e(C)}finally{y.f()}t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},m),S),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",m)}else if(l){var w={event:g,relatedEvents:(0,d.w)(h,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:h})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:h}),t.emitter.trigger("eventRemove",w);var b=v.defs[c.defId],T=v.instances[u.instanceId],M=new d.a0(l,b,T);l.dispatch({type:"MERGE_EVENTS",eventStore:v});var R={event:M,relatedEvents:(0,d.w)(v,l,T),revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};l.emitter.trigger("eventAdd",R),e.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),l.emitter.trigger("drop",Object.assign(Object.assign({},k(p.dateSpan,l)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:p.context.viewApi})),l.emitter.trigger("eventReceive",Object.assign(Object.assign({},R),{draggedEl:e.subjectEl,view:p.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}r.cleanup()};var a=(0,i.Z)(r).component.context.options,l=r.dragging=new b(e.el);l.pointer.selector=n.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=a.dragScroll;var c=r.hitDragging=new R(r.dragging,d.a7);return c.useSubjectCenter=e.useEventCenter,c.emitter.on("pointerdown",r.handlePointerDown),c.emitter.on("dragstart",r.handleDragStart),c.emitter.on("hitupdate",r.handleHitUpdate),c.emitter.on("pointerup",r.handlePointerUp),c.emitter.on("dragend",r.handleDragEnd),r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.dragging.destroy()}},{key:"displayDrag",value:function(e,t){var n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:(0,d.I)(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}},{key:"clearDrag",value:function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}},{key:"cleanup",value:function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}]),n}(d.Z);P.SELECTOR=".fc-event-draggable, .fc-event-resizable";var L=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,s.Z)(this,n),(r=t.call(this,e)).draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(e){var t=(0,i.Z)(r).component,n=r.querySegEl(e),o=(0,d._)(n),a=r.eventRange=o.eventRange;r.dragging.minDistance=t.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&r.component.props.eventSelection!==a.instance.instanceId)},r.handleDragStart=function(e){var t=r.component.context,n=r.eventRange;r.relevantEvents=(0,d.aV)(t.getCurrentData().eventStore,r.eventRange.instance.instanceId);var i=r.querySegEl(e);r.draggingSegEl=i,r.draggingSeg=(0,d._)(i),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:i,event:new d.a0(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},r.handleHitUpdate=function(e,t,n){var i=r.component.context,o=r.relevantEvents,a=r.hitDragging.initialHit,l=r.eventRange.instance,s=null,c=null,u=!1,g={affectedEvents:o,mutatedEvents:(0,d.I)(),isEvent:!0};e&&(e.componentId===a.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(a,e)||(s=function(e,t,n,i){var r=e.context.dateEnv,o=e.dateSpan.range.start,a=t.dateSpan.range.start,l=(0,d.aA)(o,a,r,e.largeUnit);if(n){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}(a,e,n.subjectEl.classList.contains("fc-event-resizer-start"),l.range)));s&&(c=(0,d.bX)(o,i.getCurrentData().eventUiBases,s,i),g.mutatedEvents=c,(0,d.bZ)(g,e.dateProfile,i)||(u=!0,s=null,c=null,g.mutatedEvents=null)),c?i.dispatch({type:"SET_EVENT_RESIZE",state:g}):i.dispatch({type:"UNSET_EVENT_RESIZE"}),u?(0,d.ax)():(0,d.aw)(),t||(s&&C(a,e)&&(s=null),r.validMutation=s,r.mutatedRelevantEvents=c)},r.handleDragEnd=function(e){var t=r.component.context,n=r.eventRange.def,i=r.eventRange.instance,o=new d.a0(t,n,i),a=r.relevantEvents,l=r.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:o,jsEvent:e.origEvent,view:t.viewApi}),r.validMutation){var s=new d.a0(t,l.defs[n.defId],i?l.instances[i.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:l});var c={oldEvent:o,event:s,relatedEvents:(0,d.w)(l,t,i),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},c),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,d.d)(0),endDelta:r.validMutation.endDelta||(0,d.d)(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",c)}else t.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var o=e.component,a=r.dragging=new b(e.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.context.options.dragScroll;var l=r.hitDragging=new R(r.dragging,(0,d.bG)(e));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("dragend",r.handleDragEnd),r}return(0,c.Z)(n,[{key:"destroy",value:function(){this.dragging.destroy()}},{key:"querySegEl",value:function(e){return(0,d.$)(e.subjectEl,".fc-event")}}]),n}(d.Z);var j=function(){function e(t){var n=this;(0,s.Z)(this,e),this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(n.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var t=n.context.options.unselectCancel,i=(0,d.aR)(e.origEvent);n.matchesCancel=!!(0,d.$)(i,t),n.matchesEvent=!!(0,d.$)(i,P.SELECTOR)},this.onDocumentPointerUp=function(e){var t=n.context,i=n.documentPointer,r=t.getCurrentData();if(!i.wasTouchScroll){if(r.dateSelection&&!n.isRecentPointerDateSelect){var o=t.options.unselectAuto;!o||o&&n.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!n.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}n.isRecentPointerDateSelect=!1};var i=this.documentPointer=new p(document);i.shouldIgnoreMove=!0,i.shouldWatchScroll=!1,i.emitter.on("pointerdown",this.onDocumentPointerDown),i.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}return(0,c.Z)(e,[{key:"destroy",value:function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}]),e}(),x={fixedMirrorParent:d.n},H={dateClick:d.n,eventDragStart:d.n,eventDragStop:d.n,eventDrop:d.n,eventResizeStart:d.n,eventResizeStop:d.n,eventResize:d.n,drop:d.n,eventReceive:d.n,eventLeave:d.n};d.bI.dataAttrPrefix="";var A=(0,u.rx)({name:"@fullcalendar/interaction",componentInteractions:[I,Z,P,L],calendarInteractions:[j],elementDraggingImpl:b,optionRefiners:x,listenerRefiners:H})}}]);
//# sourceMappingURL=4332.32b7be5a.chunk.js.map
